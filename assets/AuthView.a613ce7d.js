import{_ as g}from"./index.0305dcdd.js";import{o as d,a as h,d as t,t as n,w as r,v as a,e as p,m as u,p as _}from"./vendor.75ed90a5.js";var m="/assets/logo.c7c24283.svg";const x={name:"auth",data(){return{email:"",password:"",username:"",error_text:"",server_url:"",register:!1}},methods:{login_user(i){i.preventDefault(),console.log(this.email,this.password),fetch("http://127.0.0.1:4001/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})}).then(e=>e.json()).then(e=>{console.log(e),localStorage.setItem("token",e.token),this.$router.push({path:"/"})}).catch(e=>{console.log("Request failed",e),this.error_text="Ein Fehler ist aufgetreten."})},register_user(i){i.preventDefault(),console.log(this.email,this.password),fetch("http://127.0.0.1:4001/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password,username:this.username})}).then(e=>e.ok?e.json():e.text().then(c=>{throw new Error(c)})).then(e=>{console.log(e),localStorage.setItem("token",e.token),this.$router.push({path:"/"})}).catch(e=>{console.log("Request failed",e),this.error_text=`${e}`})},switch_register(){this.register=!this.register,this.error_text=""}}},f={class:"flex justify-center bg-individual h-screen"},y={class:"flex flex-col w-[90%] md:w-[600px] bg-white rounded-3xl shadow-2xl h-auto mt-auto mb-auto items-center"},w={class:"mt-20 text-gray-700 font-thin text-4xl"},b=t("img",{src:m,alt:"alt",class:"w-36 ml-auto mr-auto mt-20 mb-20"},null,-1),v={key:0,class:"flex flex-row items-center mt-5"},k=t("i",{class:"f7-icons inset-y-0 font-light gray"},"person_alt_circle_fill",-1),j={class:"flex flex-row items-center mt-5"},S=t("i",{class:"f7-icons inset-y-0 font-light gray"},"envelope_fill",-1),V={class:"flex flex-row items-center mt-5"},T=t("i",{class:"f7-icons inset-y-0 font-light gray"},"lock_fill",-1),C={class:"min-w-[300px]"},D={class:"font-light text-red-600 -ml-5 mt-5"},E={class:"mt-10 self-end mr-5 mb-5"},N=t("i",{class:"f7-icons inset-y-0 font-light gray"},"lock_circle_fill",-1),O={tag:"button",class:"ml-2 font-weight text-xl"},P=t("i",{class:"f7-icons inset-y-0 font-light gray"}," arrow_right_circle_fill ",-1),R=t("span",{tag:"button",class:"ml-2 font-weight text-xl"},"Weiter",-1),U=[P,R];function A(i,e,c,B,s,l){return d(),h("div",f,[t("div",y,[t("p",w," WhistleTube - "+n(s.register?"Register":"Login"),1),b,s.register?(d(),h("div",v,[k,r(t("input",{class:"appearance-none rounded-xl py-3 px-5 ml-4 text-black-700 leading-tight focus:outline-none outline-0 text-xl bg-gray-200 min-w-[300px]",type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>s.username=o),placeholder:"Username"},null,512),[[a,s.username]])])):p("",!0),t("div",j,[S,r(t("input",{class:"appearance-none rounded-xl py-3 px-5 ml-4 text-black-700 leading-tight focus:outline-none outline-0 text-xl bg-gray-200 min-w-[300px]",type:"email","onUpdate:modelValue":e[1]||(e[1]=o=>s.email=o),placeholder:"E-Mail"},null,512),[[a,s.email]])]),t("div",V,[T,r(t("input",{class:"appearance-none rounded-xl py-3 px-5 ml-4 text-black-700 leading-tight focus:outline-none outline-0 text-xl bg-gray-200 min-w-[300px]",type:"password","onUpdate:modelValue":e[2]||(e[2]=o=>s.password=o),placeholder:"Password"},null,512),[[a,s.password]])]),t("div",C,[t("p",D,n(s.error_text),1)]),t("div",E,[t("button",{class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-4 rounded-full inline-flex mr-5",onClick:e[3]||(e[3]=(...o)=>l.switch_register&&l.switch_register(...o))},[N,t("span",O,n(s.register?"Login":"Register"),1)]),t("button",u({class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-4 rounded-full inline-flex"},_(s.register?{click:l.register_user}:{click:l.login_user})),U,16)])])])}var J=g(x,[["render",A]]);export{J as default};
