import{_ as p,s as d}from"./index.1574237b.js";import{o as g,a as h,d as t,t as n,w as r,v as a,e as u,m as _,p as m}from"./vendor.75ed90a5.js";var x="/assets/logo.c7c24283.svg";const f={name:"auth",data(){return{email:"",password:"",username:"",error_text:"",server_url:"",register:!1}},methods:{login_user(i){i.preventDefault(),console.log(this.email,this.password),fetch(d+"/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})}).then(e=>e.json()).then(e=>{console.log(e),localStorage.setItem("token",e.token),this.$router.push({path:"/"})}).catch(e=>{console.log("Request failed",e),this.error_text="Ein Fehler ist aufgetreten."})},register_user(i){i.preventDefault(),console.log(this.email,this.password),fetch(d+"/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password,username:this.username})}).then(e=>e.ok?e.json():e.text().then(c=>{throw new Error(c)})).then(e=>{console.log(e),localStorage.setItem("token",e.token),this.$router.push({path:"/"})}).catch(e=>{console.log("Request failed",e),this.error_text=`${e}`})},switch_register(){this.register=!this.register,this.error_text=""}}},y={class:"flex justify-center bg-individual h-screen"},w={class:"flex flex-col w-[90%] md:w-[600px] bg-white rounded-3xl shadow-2xl h-auto mt-auto mb-auto items-center"},b={class:"mt-20 text-gray-700 font-thin text-4xl"},v=t("img",{src:x,alt:"alt",class:"w-36 ml-auto mr-auto mt-20 mb-20"},null,-1),k={key:0,class:"flex flex-row items-center mt-5"},j=t("i",{class:"f7-icons inset-y-0 font-light gray"},"person_alt_circle_fill",-1),S={class:"flex flex-row items-center mt-5"},V=t("i",{class:"f7-icons inset-y-0 font-light gray"},"envelope_fill",-1),T={class:"flex flex-row items-center mt-5"},C=t("i",{class:"f7-icons inset-y-0 font-light gray"},"lock_fill",-1),D={class:"min-w-[300px]"},E={class:"font-light text-red-600 -ml-5 mt-5"},N={class:"mt-10 self-end mr-5 mb-5"},O=t("i",{class:"f7-icons inset-y-0 font-light gray"},"lock_circle_fill",-1),P={tag:"button",class:"ml-2 font-weight text-xl"},R=t("i",{class:"f7-icons inset-y-0 font-light gray"}," arrow_right_circle_fill ",-1),U=t("span",{tag:"button",class:"ml-2 font-weight text-xl"},"Weiter",-1),A=[R,U];function B(i,e,c,q,s,l){return g(),h("div",y,[t("div",w,[t("p",b," WhistleTube - "+n(s.register?"Register":"Login"),1),v,s.register?(g(),h("div",k,[j,r(t("input",{class:"appearance-none rounded-xl py-3 px-5 ml-4 text-black-700 leading-tight focus:outline-none outline-0 text-xl bg-gray-200 min-w-[300px]",type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>s.username=o),placeholder:"Username"},null,512),[[a,s.username]])])):u("",!0),t("div",S,[V,r(t("input",{class:"appearance-none rounded-xl py-3 px-5 ml-4 text-black-700 leading-tight focus:outline-none outline-0 text-xl bg-gray-200 min-w-[300px]",type:"email","onUpdate:modelValue":e[1]||(e[1]=o=>s.email=o),placeholder:"E-Mail"},null,512),[[a,s.email]])]),t("div",T,[C,r(t("input",{class:"appearance-none rounded-xl py-3 px-5 ml-4 text-black-700 leading-tight focus:outline-none outline-0 text-xl bg-gray-200 min-w-[300px]",type:"password","onUpdate:modelValue":e[2]||(e[2]=o=>s.password=o),placeholder:"Password"},null,512),[[a,s.password]])]),t("div",D,[t("p",E,n(s.error_text),1)]),t("div",N,[t("button",{class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-4 rounded-full inline-flex mr-5",onClick:e[3]||(e[3]=(...o)=>l.switch_register&&l.switch_register(...o))},[O,t("span",P,n(s.register?"Login":"Register"),1)]),t("button",_({class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-4 rounded-full inline-flex"},m(s.register?{click:l.register_user}:{click:l.login_user})),A,16)])])])}var L=p(f,[["render",B]]);export{L as default};
